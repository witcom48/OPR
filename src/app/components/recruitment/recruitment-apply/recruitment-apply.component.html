<!-- eslint-disable @angular-eslint/template/eqeqeq -->
<p-menubar [model]="toolbar_menu"></p-menubar>
<p-card header="Apply work" [style]="{'margin-top': '0px','margin-bottom': '2em' }">
    <div class="grid">
        <div class="col-12 md:col-9">
            <p-tabView (onChange)="tabChange($event)">
                <!-- Tab Genaral -->
                <p-tabPanel>
                    <ng-template pTemplate="header">
                        <i class="pi pi-cog"></i>&nbsp;&nbsp;
                        <span>ข้อมูลทั่วไป</span>
                    </ng-template>

                    <div class="empinfo">
                        <p-image src="../../../../assets/images/people.png" alt="Image" width="150"
                            height="150"></p-image>
                        <p-button class="upload" label="Upload Images"></p-button>

                        <div>
                            <label for="Fname1"> รหัส :</label>
                            <input pInputText id="lastname2" type="text" [(ngModel)]="selectedReqworker.worker_code">
                        </div>

                        <div style="grid-column: 1;">
                            <label for="Fname1"> คำนำหน้า :</label>
                            <p-dropdown placeholder="--" [options]="initialList" optionValue="initial_code"
                                [showClear]="true" [(ngModel)]="selectedReqworker.worker_initial"
                                [style]="{ width: '100%', overflow: 'visible' }">
                                <ng-template let-item pTemplate="selectedItem">
                                    {{initial_current.Language=="TH"? item.initial_name_th : item.initial_name_th}}
                                </ng-template>
                                <ng-template let-item pTemplate="item">
                                    {{initial_current.Language=="TH"? item.initial_name_th : item.initial_name_th}}
                                </ng-template>
                            </p-dropdown>
                        </div>
                        <div>
                            <label for="Gender">{{title_gender}} :</label>
                            <div class="radio">
                                <p-radioButton name="Gender" value="M"
                                    [(ngModel)]="selectedReqworker.worker_gender"></p-radioButton>
                                <label>{{male_gender}}</label>
                                &nbsp;&nbsp;
                                <p-radioButton name="Gender" value="F"
                                    [(ngModel)]="selectedReqworker.worker_gender"></p-radioButton>
                                <label>{{female_gender}}</label>
                            </div>
                        </div>

                        <div style="grid-column: 1;">
                            <label for="Fname1">ชื่อ:</label>
                            <input pInputText id="lastname2" type="text"
                                [(ngModel)]="selectedReqworker.worker_fname_th">
                        </div>

                        <div>
                            <label for="Fname1">นามสกุล:</label>
                            <input pInputText id="lastname2" type="text"
                                [(ngModel)]="selectedReqworker.worker_lname_th">
                        </div>

                        <div style="grid-column: 1;">
                            <label for="Fname1">Firstname:</label>
                            <input pInputText id="lastname2" type="text"
                                [(ngModel)]="selectedReqworker.worker_fname_en">
                        </div>

                        <div>
                            <label for="Fname1">Lastname:</label>
                            <input pInputText id="lastname2" type="text"
                                [(ngModel)]="selectedReqworker.worker_lname_en">
                        </div>

                        <div style="grid-column: 1;">
                            <label for="applywork_birthdate">วันเกิด:</label>
                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="true"
                                [(ngModel)]="selectedReqworker.worker_birthdate" inputId="applywork_birthdate">
                                <input type="text">
                            </p-calendar>

                        </div>

                        <div>
                            <label for="applywork_birthdate">วันที่พร้อมเริ่มงาน:</label>
                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="true"
                                [(ngModel)]="selectedReqworker.worker_hiredate" inputId="applywork_birthdate">
                                <input type="text">
                            </p-calendar>

                        </div>
                    </div>
                    <div class="empinfo2">

                        <div class="horizontal">
                            <hr>
                        </div>
                    </div>

                    <div class="accordion">
                        <p-accordion>
                            <p-accordionTab header="ผู้แนะนำ">
                                <p-menubar [model]="menu_reqsuggest"></p-menubar>
                                <p-table #dtemplocation [value]="reqsuggestList" styleClass="p-datatable-sm"
                                    [tableStyle]="{'min-width': '60rem'}" [scrollable]="true" scrollHeight="200px"
                                    [virtualScroll]="true" selectionMode="single" [(selection)]="selectedReqSuggest"
                                    (onRowSelect)="onRowSelectReqSuggest($event)" [rows]="10"
                                    [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [paginator]="true"
                                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th>ผู้แนะนำ</th>
                                            <th>เพิ่มเติม</th>
                                            <th>ผู้ทำรายการ</th>
                                            <th>วันที่ทำรายการ</th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-empsuggest>
                                        <tr [pSelectableRow]="empsuggest">
                                            <td>{{empsuggest.empsuggest_code}}</td>
                                            <td>{{empsuggest.empsuggest_note}}</td>
                                            <td>{{empsuggest.modified_by}}</td>
                                            <td>{{empsuggest.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                            </p-accordionTab>
                        </p-accordion>
                    </div>


                </p-tabPanel>


                <!-- p-tabPanel 2 -->
                <p-tabPanel>
                    <ng-template pTemplate="header">
                        <i class="pi pi-user"></i>&nbsp;&nbsp;
                        <span>ข้อมูลส่วนตัว</span>
                    </ng-template>

                    <div class="formgrid grid">

                        <div class="field col-12 md:col-4">
                            <label for="lastname2">ศาสนา :</label>
                            <p-dropdown placeholder="--" [options]="religionList" optionValue="religion_code"
                                [showClear]="true" [(ngModel)]="selectedApplywork.province_code"
                                [style]="{ width: '100%', overflow: 'visible' }">
                                <ng-template let-item pTemplate="selectedItem">
                                    {{initial_current.Language=="TH"? item.religion_name_th : item.religion_name_en}}
                                </ng-template>
                                <ng-template let-item pTemplate="item">
                                    {{initial_current.Language=="TH"? item.religion_name_th : item.religion_name_en}}
                                </ng-template>
                            </p-dropdown>
                        </div>



                        <div class="field col-12 md:col-4">
                            <label for="lastname2">กรุ๊ปเลือด :</label>
                            <p-dropdown placeholder="--" [options]="bloodtypeList" optionValue="bloodtype_code"
                                [showClear]="true" [(ngModel)]="selectedApplywork.bloodtype_code"
                                [style]="{ width: '100%', overflow: 'visible' }">
                                <ng-template let-item pTemplate="selectedItem">
                                    {{initial_current.Language=="TH"? item.bloodtype_name_th : item.bloodtype_name_en}}
                                </ng-template>
                                <ng-template let-item pTemplate="item">
                                    {{initial_current.Language=="TH"? item.bloodtype_name_th : item.bloodtype_name_en}}
                                </ng-template>
                            </p-dropdown>
                        </div>
                        <div class="field col-12 md:col-4"></div>


                        <div class="field col-12 md:col-4">
                            <!-- <label for="Fname1">ส่วนสูง:</label> -->
                            <label for="lastname2">ส่วนสูง :</label>
                            <p-inputNumber mode="decimal" inputId="minmax-buttons" [min]="0" [max]="999"
                                [(ngModel)]="selectedApplywork.applywork_height">
                            </p-inputNumber>
                        </div>

                        <div class="field col-12 md:col-4">
                            <label for="Fname1">นํ้าหนัก :</label>
                            <p-inputNumber mode="decimal" inputId="minmax-buttons" [min]="0" [max]="999"
                                [(ngModel)]="selectedApplywork.applywork_weight">
                            </p-inputNumber>
                        </div>

                        <!-- Address -->
                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_address}}">
                                    <p-menubar [model]="menu_reqaddress"></p-menubar>
                                    <p-table #dtAddress [value]="reqaddressList" styleClass="p-datatable-sm"
                                        [tableStyle]="{'min-width': '80rem'}" [scrollable]="true" scrollHeight="200px"
                                        [virtualScroll]="true" selectionMode="single" [(selection)]="selectedReqAddress"
                                        (onRowSelect)="onRowSelectReqAddress($event)" [rows]="10"
                                        [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
                                        [paginator]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>ประเภท</th>
                                                <th>เลขที่</th>
                                                <th>ซอย</th>
                                                <th>ถนน</th>
                                                <th>อำเภอ</th>
                                                <th>ตำบล</th>
                                                <th>จังหวัด</th>
                                                <th>รหัสไปรษณีย์</th>
                                                <th>เบอร์โทรศัพท์</th>
                                                <th>อีเมล์</th>
                                                <th>ผู้ทำรายการ</th>
                                                <th>วันที่ทำรายการ</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-reqaddress>
                                            <tr [pSelectableRow]="reqaddress">
                                                <td>{{reqaddress.address_type}}</td>
                                                <td>{{reqaddress.address_no}}</td>
                                                <td>{{reqaddress.address_soi}}</td>
                                                <td>{{reqaddress.address_road}}</td>
                                                <td>{{reqaddress.address_amphur}}</td>
                                                <td>{{reqaddress.address_tambon}}</td>
                                                <td>{{reqaddress.province_code}}</td>
                                                <td>{{reqaddress.address_zipcode}}</td>
                                                <td>{{reqaddress.address_tel}}</td>
                                                <td>{{reqaddress.address_email}}</td>
                                                <td>{{reqaddress.modified_by}}</td>
                                                <td>{{reqaddress.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </p-accordionTab>
                            </p-accordion>
                        </div>

                        <!-- card -->
                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_card}}">
                                    <p-menubar [model]="menu_reqcard"></p-menubar>
                                    <p-table #dtempcard [value]="reqcardList" styleClass="p-datatable-sm"
                                        [tableStyle]="{'min-width': '60rem'}" [scrollable]="true" scrollHeight="200px"
                                        [virtualScroll]="true" selectionMode="single" [(selection)]="selectedReqcard"
                                        (onRowSelect)="onRowSelectReqCard($event)" [rows]="10"
                                        [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
                                        [paginator]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>ประเภทบัตร</th>
                                                <th>รหัสบัตร</th>
                                                <th>วันที่เปิดบัตร</th>
                                                <th>วันที่หมดอายุ</th>
                                                <th>ผู้ทำรายการ</th>
                                                <th>วันที่ทำรายการ</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-data>
                                            <tr [pSelectableRow]="data">
                                                <th>{{data.card_type }}</th>
                                                <!-- <td>{{initial_current.Language == "TH"? data.cardtype_name_th:data.cardtype_name_en}}</td> -->

                                                <th>{{data.card_code}}</th>
                                                <th>{{data.card_issue| date:'dd/MM/yyyy'}}</th>
                                                <th>{{data.card_expire | date:'dd/MM/yyyy'}}</th>
                                                <th>{{data.modified_by}}</th>
                                                <th>{{data.modified_date| date: "dd/MM/yyyy HH:mm"}}</th>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </p-accordionTab>
                            </p-accordion>
                        </div>

                        <!-- foreigner -->
                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_foreigner}}">
                                    <div class="foreigner">
                                        <h4>หนังสือเดินทาง</h4>
                                        <div>
                                            <label>เลขที่</label>
                                            <input type="text" pInputText [(ngModel)]="selectedReqforeigner.passport_no"
                                                maxlength="20">
                                        </div>
                                        <div style="grid-column: 1;">
                                            <label>วันที่เข้าประเทศ</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.entry_date"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div style="grid-column: 1;">
                                            <label>วันที่ออกหนังสือเดินทาง</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.passport_issue"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div>
                                            <label>วันที่หมดอายุ</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.passport_expire"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div class="horizontal">
                                            <hr>
                                        </div>
                                        <h4>VISA</h4>
                                        <div>
                                            <label>เลขที่</label>
                                            <input type="text" pInputText [(ngModel)]="selectedReqforeigner.visa_no"
                                                maxlength="20">
                                        </div>
                                        <div style="grid-column: 1;">
                                            <label>วันที่ออก</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.visa_issue"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div>
                                            <label>วันที่หมดอายุ</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.visa_expire"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div class="horizontal">
                                            <hr>
                                        </div>
                                        <h4>Work Permit</h4>
                                        <div>
                                            <label>เลขที่</label>
                                            <input type="text" pInputText
                                                [(ngModel)]="selectedReqforeigner.workpermit_no" maxlength="20">
                                        </div>
                                        <div style="grid-column: 1;">
                                            <label>ออกโดย</label>
                                            <input type="text" pInputText
                                                [(ngModel)]="selectedReqforeigner.workpermit_by">
                                        </div>
                                        <div style="grid-column: 1;">
                                            <label>วันที่ออก</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.workpermit_issue"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div>
                                            <label>วันที่หมดอายุ</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.workpermit_expire"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div class="horizontal">
                                            <hr>
                                        </div>
                                        <div>
                                            <label>เลขที่เอกสารสำคัญ</label>
                                            <input type="text" pInputText
                                                [(ngModel)]="selectedReqforeigner.certificate_no" maxlength="20">
                                        </div>
                                        <div>
                                            <label>วันที่เอกสารสำคัญหมดอายุ</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.certificate_expire"><input
                                                    type="text"></p-calendar>
                                        </div>
                                        <div>
                                            <label>เลขที่เอกสารอื่นๆ</label>
                                            <input type="text" pInputText [(ngModel)]="selectedReqforeigner.otherdoc_no"
                                                maxlength="20">
                                        </div>
                                        <div>
                                            <label>วันที่หมดอายุของเอกสารอื่นๆ</label>
                                            <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
                                                [(ngModel)]="selectedReqforeigner.otherdoc_expire"><input
                                                    type="text"></p-calendar>
                                        </div>
                                    </div>
                                </p-accordionTab>
                            </p-accordion>
                        </div>


                        <!-- <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="ข้อมูลพนักงานต่างด้าว"></p-accordionTab>
                            </p-accordion>
                        </div> -->
                    </div>

                </p-tabPanel>

                <p-tabPanel>
                    <ng-template pTemplate="header">
                        <i class="pi pi-history"></i>&nbsp;&nbsp;
                        <span>ข้อมูลประวัติ</span>
                    </ng-template>

                    <div class="formgrid grid">




                        <!-- Education -->
                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_education}}">
                                    <p-menubar [model]="menu_reqeducation"></p-menubar>
                                    <p-table #dteducation [value]="reqeducationList" styleClass="p-datatable-sm"
                                        [tableStyle]="{'min-width': '80rem'}" [scrollable]="true" scrollHeight="200px"
                                        [virtualScroll]="true" selectionMode="single"
                                        [(selection)]="selectedReqeducation"
                                        (onRowSelect)="onRowSelectReqeducation($event)" [rows]="10"
                                        [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
                                        [paginator]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">

                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>สถานศึกษา</th>
                                                <th>วันที่เริ่ม</th>
                                                <th>วันที่จบ</th>
                                                <th>คณะ</th>
                                                <th>วิชาเอก</th>
                                                <th>วุฒิการศึกษา</th>
                                                <th>เกรดเฉลี่ย</th>
                                                <th>ผู้ทำรายการ</th>
                                                <th>วันที่ทำรายการ</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-reqeducation>
                                            <tr [pSelectableRow]="reqeducation">
                                                <td>{{reqeducation.institute_code}}</td>
                                                <td>{{reqeducation.empeducation_start | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqeducation.empeducation_finish | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqeducation.faculty_code}}</td>
                                                <td>{{reqeducation.major_code}}</td>
                                                <td>{{reqeducation.qualification_code}}</td>
                                                <td>{{reqeducation.empeducation_gpa}}</td>
                                                <td>{{reqeducation.modified_by}}</td>
                                                <td>{{reqeducation.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </p-accordionTab>
                            </p-accordion>
                        </div>
                        <!-- Training -->
                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_training}}">
                                    <p-menubar [model]="menu_reqtraining"></p-menubar>
                                    <p-table #dttraining [value]="reqtrainingList" styleClass="p-datatable-sm"
                                        [tableStyle]="{'min-width': '80rem'}" [scrollable]="true" scrollHeight="200px"
                                        [virtualScroll]="true" selectionMode="single"
                                        [(selection)]="selectedReqtraining"
                                        (onRowSelect)="onRowSelectReqtraining($event)" [rows]="10"
                                        [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
                                        [paginator]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">

                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>สถาบัน/สถานที่</th>
                                                <th>หลักสูตร</th>
                                                <th>ครั้งที่</th>
                                                <th>จากวันที่</th>
                                                <th>ถึงวันที่</th>
                                                <th>ผลการอมรบ</th>
                                                <th>ผู้ทำรายการ</th>
                                                <th>วันที่ทำรายการ</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-reqtraining>
                                            <tr [pSelectableRow]="reqtraining">
                                                <td>{{reqtraining.institute_code}}</td>
                                                <td>{{reqtraining.course_code}}</td>
                                                <td>{{reqtraining.course_other}}</td>
                                                <td>{{reqtraining.emptraining_start | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqtraining.emptraining_finish | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqtraining.emptraining_status}}</td>
                                                <td>{{reqtraining.modified_by}}</td>
                                                <td>{{reqtraining.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </p-accordionTab>
                            </p-accordion>
                        </div>

                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_assessment}}">
                                    <p-menubar [model]="menu_reqassessment"></p-menubar>
                                    <p-table #dt11 [value]="reqassessmentList" styleClass="p-datatable-sm"
                                        [tableStyle]="{'min-width': '70rem'}" [scrollable]="true" scrollHeight="200px"
                                        [virtualScroll]="true" [(selection)]="selectedReqassessment"
                                        (onRowSelect)="onRowSelectReqassessment($event)" selectionMode="single"
                                        [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
                                        [paginator]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                                        <ng-template pTemplate="caption">
                                            <div class="flex">
                                                <span class="p-input-icon-left ml-auto">
                                                    <i class="pi pi-search"></i>
                                                    <input pInputText type="text"
                                                        (input)="dt11.filterGlobal($any($event).target.value, 'contains')"
                                                        placeholder="Search keyword" />
                                                </span>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>สถานที่</th>
                                                <th>หัวข้อ</th>
                                                <th>จากวันที่</th>
                                                <th>ถึงวันที่</th>
                                                <th>ครั้งที่</th>
                                                <th>ผลการประเมิน</th>
                                                <th>ผู้ทำรายการ</th>
                                                <th>วันที่ทำรายการ</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-reqassessment>
                                            <tr [pSelectableRow]="reqassessment">
                                                <td>{{reqassessment.empassessment_location}}</td>
                                                <td>{{reqassessment.empassessment_topic}}</td>
                                                <td>{{reqassessment.empassessment_fromdate | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqassessment.empassessment_todate | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqassessment.empassessment_count}}</td>
                                                <td>{{reqassessment.empassessment_result}}</td>
                                                <td>{{reqassessment.modified_by}}</td>
                                                <td>{{reqassessment.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </p-accordionTab>
                            </p-accordion>
                        </div>

                        <div class="field col-12">
                            <p-accordion>
                                <p-accordionTab header="{{title_criminal}}">
                                    <p-menubar [model]="menu_reqcriminal"></p-menubar>
                                    <p-table #dt12 [value]="reqCriminalList" styleClass="p-datatable-sm" [tableStyle]="{'min-width': '60rem'}"
                                        [scrollable]="true" scrollHeight="200px" [virtualScroll]="true"
                                        selectionMode="single" 
                                        [(selection)]="selectedReqCriminal"
                                        (onRowSelect)="onRowSelectReqcriminal($event)"
                                        [rows]="10" [showCurrentPageReport]="true"
                                        [rowsPerPageOptions]="[10,25,50]" [paginator]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                                        <ng-template pTemplate="caption">
                                            <div class="flex">
                                                <span class="p-input-icon-left ml-auto">
                                                    <i class="pi pi-search"></i>
                                                    <input pInputText type="text"
                                                        (input)="dt12.filterGlobal($any($event).target.value, 'contains')"
                                                        placeholder="Search keyword" />
                                                </span>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th>สถานที่</th>
                                                <th>จากวันที่</th>
                                                <th>ถึงวันที่</th>
                                                <th>ครั้งที่</th>
                                                <th>ผลการตรวจสอบ</th>
                                                <th>ผู้ทำรายการ</th>
                                                <th>วันที่ทำรายการ</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-reqcriminal>
                                            <tr [pSelectableRow]="reqcriminal">
                                                <td>{{reqcriminal.empcriminal_location}}</td>
                                                <td>{{reqcriminal.empcriminal_fromdate | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqcriminal.empcriminal_todate | date:'dd/MM/yyyy'}}</td>
                                                <td>{{reqcriminal.empcriminal_count}}</td>
                                                <td>{{reqcriminal.empcriminal_result}}</td>
                                                <td>{{reqcriminal.modified_by}}</td>
                                                <td>{{reqcriminal.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </p-accordionTab>
                            </p-accordion>
                        </div>



                    </div>


                </p-tabPanel>


            </p-tabView>
        </div>

    </div>


</p-card>

<p-dialog header="{{manage_title}}" [(visible)]="displayManage" [position]="position">
    <!-- Form req Address -->
    <div class="formatt" *ngIf="edit_reqaddress==true || new_reqaddress==true">
        <!-- <label>ประเภท</label>
        <p-dropdown placeholder="--" optionLabel="name" [showClear]="true" [(ngModel)]="selectedReqAddress.applyaddress_type"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <!--  -->
        <label for="lastname2">ประเภท :</label>
        <p-dropdown placeholder="--" [options]="addresstypeList" optionValue="addresstype_code" [showClear]="true"
            [(ngModel)]="selectedReqAddress.address_type" [style]="{ width: '100%', overflow: 'visible' }">
            <ng-template let-item pTemplate="selectedItem">
                {{initial_current.Language=="TH"? item.addresstype_name_th : item.addresstype_name_en}}
            </ng-template>
            <ng-template let-item pTemplate="item">
                {{initial_current.Language=="TH"? item.addresstype_name_th : item.addresstype_name_en}}
            </ng-template>
        </p-dropdown>

        <!--  -->
        <label>เลขที่</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_no">

        <label>หมู่ที่</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_moo">

        <label>ซอย</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_soi">

        <label>ถนน</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_road">

        <label>ตำบล</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_tambon">

        <label>อำเภอ</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_amphur">
        <!--  -->
        <label>จังหวัด</label>
        <p-dropdown placeholder="--" [options]="provinceList" optionLabel="province_code" [showClear]="true"
            [(ngModel)]="selectedReqAddress.province_code" [style]="{ width: '100%', overflow: 'visible' }">
            <ng-template let-item pTemplate="selectedItem">
                {{initial_current.Language=="TH"? item.province_name_th : item.province_name_en}}
            </ng-template>
            <ng-template let-item pTemplate="item">
                {{initial_current.Language=="TH"? item.province_name_th : item.province_name_en}}
            </ng-template>
        </p-dropdown>

        <label>รหัสไปรษณีย์</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_zipcode">

        <label>เบอร์โทรศัพท์</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_tel">

        <label>อีเมล์</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_email">

        <label>Line</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_line">

        <label>Facebook</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqAddress.address_facebook">

        <br>
        <button pButton type="button" label="{{title_summit}}" icon="pi pi-check"
            (click)="reqaddress_summit()"></button>
        <button pButton type="button" label="{{title_cancel}}" icon="pi pi-times" class="p-button-danger"
            (click)="reqaddress_cancel()"></button>

    </div>

    <div class="formatt" *ngIf="edit_reqcard==true || new_card==true">
        <!-- Form Card -->
        <!-- <label>ประเภทบัตร</label> -->
        <div>
            <label for="lastname2">ประเภทบัตร :</label>
            <p-dropdown placeholder="--" [options]="cardtypeList" optionValue="cardtype_code" [showClear]="true"
                [(ngModel)]="selectedReqcard.card_type" [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.cardtype_name_th : item.cardtype_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.cardtype_name_th : item.cardtype_name_en}}
                </ng-template>
            </p-dropdown>
        </div>
        <label>เลขที่</label>
        <input pInputText type="text" id="card_no" [(ngModel)]="selectedReqcard.card_code">

        <label>วันที่เปิดบัตร</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqcard.card_issue"><input type="text"></p-calendar>

        <label>วันที่หมดอายุ</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false" [(ngModel)]="selectedReqcard.card_expire">
            <input type="text"></p-calendar>


        <br>
        <button pButton type="button" label="{{title_summit}}" icon="pi pi-check" (click)="reqcard_summit()"></button>
        <button pButton type="button" label="{{title_cancel}}" icon="pi pi-times" class="p-button-danger"
            (click)="reqcard_cancel()"></button>

    </div>

    <!-- Form req Education -->
    <div class="formatt" *ngIf="edit_reqeducation==true || new_education==true">
        <!-- <label>สถานศึกษา</label>
        <p-dropdown placeholder="--" optionLabel="name" [showClear]="true"
            [(ngModel)]="selectedReqeducation.institute_code"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <div>
            <label for="lastname2">สถานศึกษา :</label>
            <p-dropdown placeholder="--" [options]="instituteList" optionValue="institute_code" [showClear]="true"
                [(ngModel)]="selectedReqeducation.institute_code" [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
                </ng-template>
            </p-dropdown>
        </div>
        <!-- <label>คณะ</label> -->
        <!-- <p-dropdown placeholder="--" optionLabel="name" [showClear]="true"
            [(ngModel)]="selectedReqeducation.faculty_code"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <div>
            <label for="lastname2">คณะ :</label>
            <p-dropdown placeholder="--" [options]="facultyList" optionValue="faculty_code" [showClear]="true"
                [(ngModel)]="selectedReqeducation.faculty_code" [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.faculty_name_th : item.faculty_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.faculty_name_th : item.faculty_name_en}}
                </ng-template>
            </p-dropdown>
        </div>
        <!-- <label>วิชาเอก</label>
        <p-dropdown placeholder="--" optionLabel="name" [showClear]="true"
        [(ngModel)]="selectedReqeducation.major_code"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <div>
            <label for="lastname2">วิชาเอก :</label>
            <p-dropdown placeholder="--" [options]="majorList" optionValue="major_code" [showClear]="true"
                [(ngModel)]="selectedReqeducation.major_code" [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.major_name_th : item.major_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.major_name_th : item.major_name_en}}
                </ng-template>
            </p-dropdown>
        </div>

        <!-- <label>วุฒิการศึกษา</label>
        <p-dropdown placeholder="--" optionLabel="name" [showClear]="true"
            [(ngModel)]="selectedReqeducation.qualification_code"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <div>
            <label for="lastname2">วุฒิการศึกษา :</label>
            <p-dropdown placeholder="--" [options]="qualificationList" optionValue="qualification_code"
                [showClear]="true" [(ngModel)]="selectedReqeducation.qualification_code"
                [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.qualification_name_th : item.qualification_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.qualification_name_th : item.qualification_name_en}}
                </ng-template>
            </p-dropdown>
        </div>
        <label>วันที่เริ่ม</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqeducation.empeducation_start"><input type="text"></p-calendar>

        <label>วันที่จบ</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqeducation.empeducation_finish"><input type="text"></p-calendar>

        <label>GPA</label>
        <p-inputNumber mode="decimal" [showButtons]="false" inputId="minmax-buttons" [max]="4"
            [(ngModel)]="selectedReqeducation.empeducation_gpa" [minFractionDigits]="2" [maxFractionDigits]="2">
        </p-inputNumber>

        <br>
        <button pButton type="button" label="{{title_summit}}" icon="pi pi-check"
            (click)="reqeducation_summit()"></button>
        <button pButton type="button" label="{{title_cancel}}" icon="pi pi-times" class="p-button-danger"
            (click)="reqeducation_cancel()"></button>
    </div>

    <!-- Form req Training -->
    <div class="formatt" *ngIf="edit_reqtraining==true || new_training==true">
        <!-- <label>หลักสูตร</label>
        <p-dropdown placeholder="--" optionLabel="name" [showClear]="true" [(ngModel)]="selectedReqtraining.course_code"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <div>
            <label for="lastname2">หลักสูตร :</label>
            <p-dropdown placeholder="--" [options]="courseList" optionValue="course_code" [showClear]="true"
                [(ngModel)]="selectedReqtraining.course_code" [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.course_name_th : item.course_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.course_name_th : item.course_name_en}}
                </ng-template>
            </p-dropdown>
        </div>
        <!-- <label>สถานศึกษา</label>
        <p-dropdown placeholder="--" optionLabel="name" [showClear]="true"
            [(ngModel)]="selectedReqtraining.institute_code"
            [style]="{ width: '100%', overflow: 'visible' }"></p-dropdown> -->
        <div>
            <label for="lastname2">สถานศึกษา :</label>
            <p-dropdown placeholder="--" [options]="instituteList" optionValue="institute_code" [showClear]="true"
                [(ngModel)]="selectedReqtraining.institute_code" [style]="{ width: '100%', overflow: 'visible' }">
                <ng-template let-item pTemplate="selectedItem">
                    {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
                </ng-template>
                <ng-template let-item pTemplate="item">
                    {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
                </ng-template>
            </p-dropdown>
        </div>
        <label>วันที่เริ่ม</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqtraining.emptraining_start"><input type="text"></p-calendar>

        <label>วันที่จบ</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqtraining.emptraining_finish"><input type="text"></p-calendar>

        <label>สถานะ</label>
        <div class="radio">
            <p-radioButton name="training_status" value="Y"
                [(ngModel)]="selectedReqtraining.emptraining_status"></p-radioButton>&nbsp;
            <label>Pass</label>
            &nbsp;&nbsp;
            <p-radioButton name="training_status" value="N"
                [(ngModel)]="selectedReqtraining.emptraining_status"></p-radioButton>&nbsp;
            <label>Not Pass</label>
        </div>

        <label>จำนวนชั่วโมง</label>
        <p-inputNumber mode="decimal" [showButtons]="false" inputId="minmax-buttons" [max]="999"
            [(ngModel)]="selectedReqtraining.emptraining_hours">
        </p-inputNumber>

        <label>ค่าใช้จ่าย</label>
        <p-inputNumber mode="decimal" [showButtons]="false" inputId="currency"
            [(ngModel)]="selectedReqtraining.emptraining_cost">
        </p-inputNumber>

        <label>รายละเอียด</label>
        <textarea [(ngModel)]="selectedReqtraining.emptraining_note" pInputTextarea [autoResize]="true"></textarea>

        <br>
        <button pButton type="button" label="{{title_summit}}" icon="pi pi-check"
            (click)="reqtraining_summit()"></button>
        <button pButton type="button" label="{{title_cancel}}" icon="pi pi-times" class="p-button-danger"
            (click)="reqtraining_cancel()"></button>
    </div>

    <!-- Form Req Assessment -->
    <div class="formatt" *ngIf="edit_reqassessment==true || new_assessment==true">
        <label>สถานที่</label>
        <p-dropdown placeholder="--" [options]="instituteList" optionValue="institute_code" [showClear]="true"
            [(ngModel)]="selectedReqassessment.empassessment_location" [style]="{ width: '100%', overflow: 'visible' }">
            <ng-template let-item pTemplate="selectedItem">
                {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
            </ng-template>
            <ng-template let-item pTemplate="item">
                {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
            </ng-template>
        </p-dropdown>

        <label>หัวข้อ</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqassessment.empassessment_topic">

        <label>จากวันที่</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqassessment.empassessment_fromdate"><input type="text"></p-calendar>

        <label>ถึงวันที่</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqassessment.empassessment_todate"><input type="text"></p-calendar>

        <label>ครั้งที่</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqassessment.empassessment_count">

        <label>ผลการประเมิน</label>
        <div class="radio">
            <p-radioButton name="assessment_result" value="Y"
                [(ngModel)]="selectedReqassessment.empassessment_result"></p-radioButton>&nbsp;
            <label>Pass</label>
            &nbsp;&nbsp;
            <p-radioButton name="assessment_result" value="N"
                [(ngModel)]="selectedReqassessment.empassessment_result"></p-radioButton>&nbsp;
            <label>Not Pass</label>
        </div>

        <br>
        <button pButton type="button" label="{{title_summit}}" icon="pi pi-check"
            (click)="reqassessment_summit()"></button>
        <button pButton type="button" label="{{title_cancel}}" icon="pi pi-times" class="p-button-danger"
            (click)="reqassessment_cancel()"></button>
    </div>

    <!-- Form Emp Criminal -->
    <div class="formatt" *ngIf="edit_reqcriminal==true || new_criminal==true">
        <label>สถานที่</label>
        <p-dropdown placeholder="--" [options]="instituteList" optionValue="institute_code" [showClear]="true"
            [(ngModel)]="selectedReqCriminal.empcriminal_location"
            [style]="{ width: '100%', overflow: 'visible' }">
            <ng-template let-item pTemplate="selectedItem">
                {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
            </ng-template>
            <ng-template let-item pTemplate="item">
                {{initial_current.Language=="TH"? item.institute_name_th : item.institute_name_en}}
            </ng-template>
        </p-dropdown>

        <label>จากวันที่</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqCriminal.empcriminal_fromdate"><input type="text"></p-calendar>

        <label>ถึงวันที่</label>
        <p-calendar appendTo="body" dateFormat="dd/mm/yy" [showIcon]="false"
            [(ngModel)]="selectedReqCriminal.empcriminal_todate"><input type="text"></p-calendar>

        <label>ครั้งที่</label>
        <input pInputText type="text" id="ppos_code" [(ngModel)]="selectedReqCriminal.empcriminal_count">

        <label>ผลการตรวจสอบ</label>
        <div class="radio">
            <p-radioButton name="criminal_result" value="Y"
                [(ngModel)]="selectedReqCriminal.empcriminal_result"></p-radioButton>&nbsp;
            <label>Pass</label>
            &nbsp;&nbsp;
            <p-radioButton name="criminal_result" value="N"
                [(ngModel)]="selectedReqCriminal.empcriminal_result"></p-radioButton>&nbsp;
            <label>Not Pass</label>
        </div>

        <br>
        <button pButton type="button" label="{{title_summit}}" icon="pi pi-check"
            (click)="reqcriminal_summit()"></button>
        <button pButton type="button" label="{{title_cancel}}" icon="pi pi-times" class="p-button-danger"
            (click)="reqcriminal_cancel()"></button>
    </div>

</p-dialog>
<!-- ConfirmDialog and toast Noti -->
<p-toast position="top-right"></p-toast>
<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000"
    rejectButtonStyleClass="p-button-text"></p-confirmDialog>
<!-- ----------------------END Confirm and Toast------------------------ -->