
<div class="grid">
    <div class="col-3" style="margin-top: 10px;">
        <!-- <label for="procost_type">Status</label><br> -->
        <p-dropdown [options]="status_list" [(ngModel)]="selectedStatus" optionLabel="text"  [showClear]="true" [style]="{ width: '100%', overflow: 'visible' }" (onChange)="onChange($event)"></p-dropdown>
       
    </div>   
</div>

<div class="grid">
    
    <div class="col-12" style="margin-top: 20px;">
        <p-table #dt2  [value]="task_list"  styleClass="p-datatable-sm" [tableStyle]="{'min-width': '70rem'}" [scrollable]="true" scrollHeight="300px" [virtualScroll]="true" selectionMode="single" [(selection)]="selectedTask" (onRowSelect)="onRowSelectTask($event)" dataKey="task_id"
        
        [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" 
        [paginator]="true" currentPageReportTemplate="{{title_page_from}} {first} {{title_page_to}} {last} {{title_page_total}} {totalRecords} {{title_page_record}}"
        [globalFilterFields]="['task_type','task_status']"
        >
        <ng-template pTemplate="caption">
            <div class="flex">
                <span class="p-input-icon-left ml-auto">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" (input)="dt2.filterGlobal($any($event).target.value, 'contains')" placeholder="{{title_search}}" />
                </span>
            </div>
        </ng-template>

            <ng-template pTemplate="header">
                <tr>		                        
                    <th style="width:9%">No.</th>
                    <th style="width:12%">Task ID</th>                      
                    <th>Task Type</th>
                    <th>Detail</th>
                    <th>Status</th>
                    <th>Start</th>
                    <th>Finish</th>
                    <th>Modified By</th>
                    <th>Modified Date</th>               
                </tr>
                
            </ng-template>
            <ng-template pTemplate="body" let-task>
                <tr [pSelectableRow]="task">        
                    <td>{{task.index}}</td>     
                    <td>{{task.task_id}}</td>    
                    <td>{{task.task_type}}</td>     
                    <td>{{task.task_detail}}</td>   
                    <td>{{task.task_status}}</td>
                    <td>{{task.task_start}}</td>  
                    <td>{{task.task_end}}</td>                     
                    <td>{{task.modified_by}}</td>      
                    <td>{{task.modified_date | date:'dd/MM/yyyy HH:mm'}}</td>
                </tr>
            </ng-template>      
        </p-table>
    </div>
    
</div>
